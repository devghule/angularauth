<!DOCTYPE html>
<html>
<head>
  <title>Register Page</title>
  <link rel="stylesheet" href="register.component.css">
</head>
<body>
  <main>
    <section class="register-section">
      <h2 class="register-title">Register</h2>
      <form [formGroup]="registerForm" (ngSubmit)="onRegister()">
        <!-- Name Field -->
        <div class="input-container">
          <label for="name">Name</label>
          <input type="text" id="name" formControlName="name" placeholder="Enter your name">
          <div *ngIf="f['name'].invalid && f['name'].touched" class="error-message">
            Name is required.
          </div>
        </div>

        <!-- Email Field -->
        <div class="input-container">
          <label for="email">Email</label>
          <input type="email" id="email" formControlName="email" placeholder="Enter your email">
          <div *ngIf="f['email'].invalid && f['email'].touched" class="error-message">
            <span *ngIf="f['email'].errors?.['required']">Email is required.</span>
            <span *ngIf="f['email'].errors?.['email']">Please enter a valid email.</span>
          </div>
        </div>

        <!-- Password Field -->
        <div class="input-container">
          <label for="password">Password</label>
          <input type="password" id="password" formControlName="password" placeholder="Enter your password">
          <div *ngIf="f['password'].invalid && f['password'].touched" class="error-message">
            <span *ngIf="f['password'].errors?.['required']">Password is required.</span>
            <span *ngIf="f['password'].errors?.['minlength']">Password must be at least 6 characters long.</span>
          </div>
        </div>

        <!-- Submit and Navigate Buttons -->
        <div class="button-container">
          <button type="submit" [disabled]="registerForm.invalid || loading">
            {{ loading ? 'Registering...' : 'Register' }}
          </button>
          <button type="button" (click)="navigateToLogin()">Log in</button>
        </div>

        <!-- General Error Message -->
        <div *ngIf="errorMessage" class="error-message">
          {{ errorMessage }}
        </div>
      </form>
    </section>
  </main>
</body>
</html>
